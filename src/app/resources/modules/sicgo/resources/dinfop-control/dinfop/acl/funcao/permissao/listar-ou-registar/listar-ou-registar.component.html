<div class="modal fade" id="modalRegistarPermissao" aria-labelledby="modalRegistarOuEditarUtilizador" aria-hidden="true"
    data-backdrop="static">
    <div class="modal-dialog" role="document" style="overflow-y: hidden;min-width: 70%;">
        <div class="modal-content">
            <div class="modal-header">
                <h5>
                    <i class="fa fa-lock"></i>
                    Dar acesso ao {{this.getFuncao}}
                </h5>
                <button type="button" class="close" (click)="btnExit()" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body w-100">
                <div class="row" style="row-gap: 1rem;">
                    <div class="col-xl-12 col-lg-12 col-md-col-12 col-sm-12 my-2">
                        <form class="row" style="row-gap: .4rem;">
                            <div class="col-xl-1 col-lg-1 col-md-4 col-sm-12">
                                <select class="form-control" style="width: 100%!important; padding: .8rem auto;"
                                    (change)="filtrarPagina('perPage',$event)" [ngModel]="this.filtro.perPage"
                                    name="perPage">
                                    <option *ngFor="let item of [5,10,20,50]" [value]="item">{{item}}</option>
                                </select>
                            </div>
                            <!-- <div class="col-xl-3 col-lg-3 col-md-8 col-sm-12 border form-group">
                                <ng-select2 style="min-width: 500px!important;" class="form-control w-100 p-0 border-0"
                                    [data]="this.modulos" [ngModel]="this.filtro.modulo"
                                    (valueChanged)="filtrarPagina('modulo',$event)">
                                </ng-select2>
                            </div> -->
                            <div class="col-xl-9 col-lg-9 col-md-8 col-sm-12">
                                <input class="form-control w-100" type="text" [ngModel]="this.filtro.search"
                                    (ngModelChange)="filtrarPagina('search',$event)" placeholder="Pesquisa ...">
                            </div>
                            <div
                                class="col-xl-2 col-lg-2 col-md-12 col-sm-12 d-flex justify-content-end align-items-center">
                                <button (click)="this.recarregarPagina()" class="btn-piips btn-piips-secondary m-0"
                                    type="submit">
                                    <i style="font-size: 14px;" class="fa fa-refresh fa-spin fa-3x fa-fw"></i>
                                    <b>Recarregar</b>
                                </button>
                            </div>
                        </form>
                    </div>
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                        <div class="row" style="row-gap: 1rem;">
                            <ng-container
                                *ngFor="let item of permissoes | paginate: { itemsPerPage: this.pagination.per_page, currentPage: this.pagination.current_page,totalItems: this.pagination.total,id:'idUtilizadorTable' }; index as i">
                                <div class="col-xl-3 col-lg-6 col-md-12 col-ms-12">
                                    <div class="d-flex align-items-center justify-content-between box-permission py-1 px-3"
                                        style="border-radius: 1px;">
                                        <span class="w-100" style="word-wrap: break-word; word-break: break-all;"
                                            style="color: var(--bg-color); font-weight: bold;">{{item?.nome}}</span>
                                        <label class="switch mt-1">
                                            <input type="checkbox" [checked]="this.isRolePermission(item?.id)"
                                                (change)="this.togglePermissao(item?.id)">
                                            <span class="slider round"></span>
                                        </label>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </div>
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
                        <div class="row">
                            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                Mostrando de {{ this.pagination.current_page }} á
                                {{ this.pagination.per_page }} de {{ this.pagination.total }} Registo
                            </div>
                            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12">
                                <div class="float-right">
                                    <pagination-controls id="idUtilizadorTable"
                                        (pageChange)="this.filtrarPagina('page', $event)" [directionLinks]="true"
                                        [autoHide]="true" previousLabel="Anterior" nextLabel="Próximo" [maxSize]="4"
                                        [responsive]="true"></pagination-controls>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>