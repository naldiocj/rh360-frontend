

<!-- Modal -->
<div class="modal fade" id="ModoOperante" tabindex="-1" aria-labelledby="ModoOperanteLabel" aria-hidden="true">
    <div class="modal-dialog modal-lk">
      <div class="modal-content">
        <div class="modal-header bg-prima text-white">
          <h4
              class="modal-title fs-5"
              id="ModoOperanteLabel"
          >
              Registar Modo Operante
          </h4>
          <a
              type="button"
              data-bs-dismiss="modal"
              aria-label="Close"
          >
              <i
                  class="bi bi-backspace-reverse-fill cursor-pointer rounded-lg "
                  style="font-size: 1.4em"
              ></i>
          </a>
      </div>
      <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" class="p-3">
        <div class="modal-body">
       
          <div class="row">
            <div class="col-lg-7">
              <div class="form-group">
                <label for="titulo">Titulo</label>
                <input id="titulo" type="text" class="form-control" formControlName="titulo">
                <div *ngIf="registrationForm.get('titulo')?.touched && registrationForm.get('titulo')?.invalid" class="text-danger">
                  <div *ngIf="registrationForm.get('titulo')?.hasError('required')">Titulo is required</div>
                </div>
              </div>
            </div>
    
            <div  class="col-lg-5">
              <div class="form-group">
                <label>
                    <b>
                        Família de crime
                        <span class="text-red">*</span>
                    </b>
                </label>
                <ng-select2
                    class="custom-border ng-select-container"
                    [options]="this.options"
                    [data]="this.tipicidadeOcorrencias"
                    formControlName="familia_crime_id"
                    (valueChanged)="selecionarTipoOcorrencia($event)"
                >
                </ng-select2>
                <div *ngIf="registrationForm.get('familia_crime_id')?.invalid && registrationForm.get('familia_crime_id')?.touched" class="text-danger">
                  <div *ngIf="registrationForm.get('familia_crime_id')?.hasError('required')">Família do crime é obrigatória.</div>
                </div>
            </div>
          </div>
        </div>
         <div class="row">
  
  
          <div class="col-lg-6">
            <div class="form-group">
              <label>
                  <b>
                      Tipo de Crime
                      <span class="text-red">*</span>
                  </b>
              </label>
              <ng-select2
                  [options]="this.options"
                  [data]="this.tipoOcorrencias"
                  formControlName="tipo_crime_id"
                  (valueChanged)="selecionarCategoriaOcorrencia($event)"
              >
              </ng-select2>
  
              <div *ngIf="registrationForm.get('tipo_crime_id')?.invalid && registrationForm.get('tipo_crime_id')?.touched" class="text-danger">
                <div *ngIf="registrationForm.get('tipo_crime_id')?.hasError('required')">Tipo de Crime é obrigatória.</div>
              </div>
          </div>
          </div>
          <div  class="col-lg-6">
            <div class="form-group">
              <label>
                  <b>
                      Tipicidade
                      <span class="text-red">*</span>
                  </b>
              </label>
              <ng-select2
                  [options]="this.options"
                  [data]="this.tipoCategorias"
                  formControlName="tipicidade_crime_id"
              >
              </ng-select2>
              <div *ngIf="registrationForm.get('tipicidade_crime_id')?.invalid && registrationForm.get('tipicidade_crime_id')?.touched" class="text-danger">
                <div *ngIf="registrationForm.get('tipicidade_crime_id')?.hasError('required')">Tipicidade é obrigatória.</div>
              </div>
          </div>
          
          </div>
        </div>
  
         <div class="row">
  
          <div class="col-lg-6">
            <div class="form-group">
              <label for="data">Data e a Hora Inicial</label>
              <input type="datetime-local" id="dataI" formControlName="data_hora_inicio" class="form-control" 
              [max]="getDateValidation().max"/>
              <div *ngIf="registrationForm.get('data_hora_inicio')?.invalid && registrationForm.get('data_hora_inicio')?.touched" class="text-danger">
                <div *ngIf="registrationForm.get('data_hora_inicio')?.hasError('required')">Data é obrigatória.</div>
              </div>
            </div>
          </div>
  
          <div class="col-lg-6">
            <div class="form-group">
              <label for="data">Data e a Hora Fim</label>
              <input type="datetime-local" id="dataF" formControlName="data_hora_fim" class="form-control" [max]="getDateValidation().max"/>
              <div *ngIf="registrationForm.get('data_hora_fim')?.invalid && registrationForm.get('data_hora_fim')?.touched" class="text-danger">
                <div *ngIf="registrationForm.get('data_hora_fim')?.hasError('required')">Data é obrigatória.</div>
              </div>
            </div>
          </div>
        </div>
  
  
  
  
         <div class="row">
  
           <div class="col-lg-6">
             <div class="form-group">
               <label><b>Provincia</b><span class="text-danger">*</span></label>
               <ng-select2
               class="custom-border ng-select-container"
               [options]="this.options"
               [data]="this.provincia"
               formControlName="sicgo_provincia_id" (valueChanged)="this.handlerProvincias($event)"></ng-select2>
               <div *ngIf="registrationForm.get('sicgo_provincia_id')?.invalid && registrationForm.get('sicgo_provincia_id')?.touched">
               <small class="error">Nome é obrigatório</small>
             </div>
             </div>
           </div>
           <div class="col-lg-6">
             <div class="form-group">
               <label><b>Municipio</b></label>
               <ng-select2 [options]="options" formControlName="sicgo_municipio_id"
                     [data]="this.municipio" (valueChanged)="selecionarMunicipio($event)">
                   </ng-select2>
                   <div *ngIf="registrationForm.get('sicgo_municipio_id')?.invalid && registrationForm.get('sicgo_municipio_id')?.touched">
                   <small class="error">Nome é obrigatório</small>
                 </div>
             </div>
           </div>
           </div>
  
         
           <div class="col-lg-12">
            <div class="form-group">
              <label
                for="meios_id"
                class="form-label"
            >
                Objecto Crime
                <span class="text-body-secondary">(*)</span>
            </label>
            <ng-select2
                [options]="this.options"
                [data]="this.objectoCrimes"
                formControlName="meios_id"
            >
            </ng-select2>
            </div>
        </div>
         
  
         <div class="form-group">
          <label for="observacao">Descrição</label>
          <textarea id="observacao" class="form-control" formControlName="descricao"></textarea>
          <div *ngIf="registrationForm.get('descricao')?.touched && registrationForm.get('descricao')?.invalid" class="text-danger">
            <div *ngIf="registrationForm.get('descricao')?.hasError('required')">Descricao is required</div>
            <div *ngIf="registrationForm.get('descricao')?.hasError('maxlength')">Observação must be no more than 255 characters long</div>
          </div>
        </div>
  
        </div>
        <div class="modal-footer">
          <button type="button" (click)="reiniciarFormulario()" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary">Register</button>
        </div>
      </form>
      </div>
    </div>
  </div>
  