<sigpj-registar-ou-editar-interveniente-model [disciplinar]="1"
  (eventRegistarOuEditDisciplinarModel)="this.recarregar()">
</sigpj-registar-ou-editar-interveniente-model>

<nav class="navbar navbar-light bg-light">
  <form class="form-inline">
    <select class="form-control mr-sm-1" (change)="filtrar('perPage', $event)">
      <option *ngFor="let item of [5, 10, 20, 50]" [value]="item">
        {{ item }}
      </option>
    </select>
    <input class="form-control mr-sm-1" type="text" [ngModel]="filtro.search"
      (ngModelChange)="filtrar('search', $event)" placeholder="Pesquisa ..." />
    <button (click)="this.recarregar()" id="btpe1" class="btn btn-outline-success my-2 my-sm-0" type="submit">
      <i style="font-size: 14px" class="fa fa-refresh fa-spin fa-3x fa-fw"></i>
      <b>Pesquisar</b>
    </button>
    <a data-toggle="modal" id="book" class="btn btn btn-primary btn-rounded float-right"
      data-target="#modalRegistarOuEditarInterveniente">
      <i class="fa fa-plus-circle"></i> <b> Adicionar Interveniente</b>
    </a>
  </form>
</nav>

<div class="col-md-12">
  <table class="table table-border table-striped custom-table datatable mb-0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>NIP</th>
        <th>Intervenientes</th>
        <th>Estado</th>
        <th>Data de Inclusão</th>
        <!-- <th class="text-right">Operação</th> -->
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="
          let item of this.intervenientes
            | paginate
              : {
                  itemsPerPage: this.pagination.per_page,
                  currentPage: this.pagination.current_page,
                  totalItems: this.pagination.total
                };
          index as i
        ">
        <td class="text-center">{{this.totalBase + i}}</td>
        <td>{{ item.nome_completo }}</td>
        <td>{{ item.nip }}</td>
        <td>{{ item.numero_agente }}</td>
        <td>
          <ng-container *ngIf="item.acusado; else elseAcusado">
            <span class="custom-badge status-green">Acusado</span>
          </ng-container>
          <ng-template #elseAcusado>
            <span class="custom-badge status-blue">Participante</span>
          </ng-template>
        </td>
        <td>{{ item.updated_at }}</td>
        <!-- <td class="text-right">
          <div class="dropdown dropdown-action">
            <a href="#" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i
                class="fa fa-ellipsis-v"></i></a>
            <div class="dropdown-menu dropdown-menu-right">
              <a class="dropdown-item" (click)="onView(item)">
                <i class="fa fa-eye m-r-5"></i>
                Visualizar
              </a>
              <a class="dropdown-item" [routerLink]="[
                '/piips/sigpj/processo/disciplinar/detalhes/listagem/parecer/registar-ou-editar',
                item.id
              ]">
                <i class="fa fa-eye m-r-5"></i>
                Parecer</a>
              <a class="dropdown-item" [routerLink]="[
                '/piips/sigpj/processo/disciplinar/detalhes/listagem/decisao/registar-ou-editar',
                item.id
              ]">
                <i class="fa fa-eye m-r-5"></i>
                Decisão</a>

              <a class="dropdown-item" (click)="excluirInterveniente(item)">
                <i class="fa fa-eye m-r-5"></i>
                Excluir</a>
            </div>
          </div>
        </td> -->
      </tr>
    </tbody>
  </table>
  <div class="col-md-12">
    <div class="row">
      <div class="col-sm-6">
        Mostrando de {{ this.pagination.current_page }} á
        {{ this.pagination.per_page }} de
        {{ this.pagination.total }} Registo
      </div>
      <div class="col-sm-6">
        <div class="float-right">
          <pagination-controls id="dados-interveniente" (pageChange)="this.filtrar('page', $event)"
            [directionLinks]="true" [autoHide]="true" previousLabel="Anterior" nextLabel="Próximo" [maxSize]="4"
            [responsive]="true"></pagination-controls>
        </div>
      </div>
    </div>
  </div>
</div>
